<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <style>
        body { margin:0; padding:0; }
        #map { position:fixed; top:0; bottom:0; width:50%; }
    </style>
</head>
<body>

<style>
#map {
  position: fixed;
    width: 50%;
    top: 0px;
    bottom: 0px;
    }
#features {
    width: 50%;
    margin-left: 50%;
    font-family: sans-serif;
    overflow-y: scroll;
    background-color: #fafafa;
}
section {
    padding:  25px 50px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 13px;
}
section.active {
    opacity: 1;
}
section:last-child {
    border-bottom: none;
    margin-bottom: 400px;
}
</style>

<div id='map'></div>
<div id='features'>
    <section id='united-states' class='active'>
        <h3>The United States</h3>
        <p>This our whole county minus Alaska & Hawaii</p>
    </section>

    <section id='ohio-massachusetts'>
        <h3>Ohio & Massachusetts</h3>
        <iframe src="https://drive.google.com/file/d/1O7Svp3m8JtMY4DnE-_2p7NnrBIyxRXkMOA/preview" width="640" height="480"></iframe>
        <p>Here on the East side of the country you can see where Ohio and Massachusetts are in relation to each other. Not as far as it is from Ohio to California or as far as it is from Massachusetts to California but its is still pretty far. By plane it is 614 miles. Let's start on the East Coast and go to Massachusetts.</p>
    </section>

    <section id='massachusetts'>
        <h3>Massachusetts</h3>
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Central_Avenue_jazz_marker_-_Los_Angeles.jpg/320px-Central_Avenue_jazz_marker_-_Los_Angeles.jpg">
        <p>Or maybe check LA's Jazz history on Central Ave. Image Source - Wikipedia</p>
    </section>

    <section id='worcester-ma'>
        <h3>Remembering Chavez Ravine</h3>
        <p></p><a href="https://en.wikipedia.org/wiki/Chavez_Ravine">Source - Wikipedia</a>
    </section>

  <section id='dudley-webster-ngrosvenordale'>
        <h3>Dudley, Webster & N. Grosvenordale</h3>
        <img src="http://harringtonhospital.org/wp-content/uploads/Tristate_Map-600x378.jpg">
        <p>Most of our relatives in Massachusetts live in these three areas. Even though  N. Grosvenordale is in Connecticut you can see how close it is to Dudley. It's only a 5 minute drive to N. Grosvenordale.</p>
    </section>

    <section id='new-boston-rd'>
        <h3>Kathy & David Diamond 78 New Boston Rd</h3>
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Union_Station_profile%2C_LA%2C_CA%2C_jjron_22.03.2012.jpg/320px-Union_Station_profile%2C_LA%2C_CA%2C_jjron_22.03.2012.jpg">
        <p>This is where Kathy & David Diamond live.</p>
        <small id="citation">
            Hello!
        </small>
    </section>
 
   <section id='pierpont-rd'>
        <h3>Pierpont Rd.</h3>
        <img src="http://www.massrealty.com/photos/ma/property/001/145/128_00_medium.jpg">
        <p>This is the house that Kathy & David Diamond built with their own hands and with the help of friends and family.</p>
        <img src="https://www.google.com/url?sa=i&rct=j&q=&esrc=s&source=imgres&cd=&ved=0ahUKEwiGkpbv44bUAhXIylQKHeL4BQ0QjBwIBA&url=https%3A%2F%2Flakefrontliving.blob.core.windows.net%2Flakefrontliving-lakes%2Flakepictures%2F292%2Fpics%2Fpierpoint1.JPG&psig=AFQjCNHKXBtACDsGaTnIF7nMrlZqrtPbiA&ust=1495655179701746">
        <small id="citation">
            Pierpont Meadow Pond
        </small>
    </section>

    <section id='mass'>
        <h3>Massachusetts</h3>
        <p>We zoom back out to Massachusetts.</p>
    </section>

    <section id='ohio-mass'>
        <h3>Ohio & Massachusetts</h3>
        <p>We zoom back out to Massachusetts & Ohio</p>>
    </section>

    <section id='ohio'>
        <h3>Ohio</h3>
        <p>We are now entering Ohio where Jason, Becky, Gracie & Connor Diamond live.</p>
    </section>
 
     <section id='cincinatti-columbus-portsmouth-ohio'>
        <h3>Cincinatti, Columbus, Portsmouth Ohio</h3>
        <img src="http://www.ancientohiotrail.org/support/images/maps/map-scioto.jpg">
        <p>It is only a two hour drive from Cincinatti to Portsmouth or Columbus to Portsmouth.</p>
    </section>

    <section id='portsmouth-ohio'>
        <h3>Portsmouth Ohio</h3>
        <img src="https://www.google.com/url?sa=i&rct=j&q=&esrc=s&source=images&cd=&ved=0ahUKEwjNqs_C6YbUAhXns1QKHUgoCr8QjBwIBA&url=http%3A%2F%2Fwww.orchardphoto.com%2Fa18zcia5.jpg&psig=AFQjCNEbWeDe-ANPa-jWympYMTvFzxAIVw&ust=1495656672498620&cad=rjt">
        <p>Portsmouth is a city in and the county seat of Scioto County, Ohio, United States. It lies in far southern Ohio, just east of the mouth of the Scioto River at the Ohio River, and across from Kentucky. A notable part of Portsmouth's history in the 19th century was its importance on the Underground Railroad. Fugitive slaves used this route to continue north to Detroit and into Canada to gain freedom</p>
    </section>

    <section id='blue-creek-ohio'>
        <h3>Blue Creek, Ohio</h3>
        <img src="http://noiimages.s3.amazonaws.com/images/bigfoot/201610051644634097.gif">
        <p>Jason, Becky, Gracie & Connor Diamond live in the <a href='http://forestry.ohiodnr.gov/shawnee'>Shawnee State Forest.</a></p>
    </section>

    <section id='oh'>
        <h3>Ohio</h3>
        <p>We zoom back out to Ohio.</p>
    </section>

    <section id='oh-ma'>
        <h3>Ohio & Massachusetts</h3>
        <p>We zoom back out to Ohio & Massachusetts.</p>
    </section>

    <section id='usa-states'>
        <h3>7Ohio</h3>
        <p>We zoom back out to the United States.</p>
    </section>

</div>
<script>

//This function create the map to load onto your web browser
var map = L.map('map').setView([34.0622, -118.2680], 13);

//This function adds a layer to the map, this layer would be added first, known as a base layer. Additional layers can be added on top.    
L.tileLayer('http://d.tile.stamen.com/toner-lite/{z}/{x}/{y}.png', {
    attribution: '<a target="_top" href="http://stamen.com">Stamen Design, under CC BY 3.0, data by OSM</a>'
}).addTo(map);

//This function adds a tile layer from remote sources like the David Rumsey Map Collection, remove the "/*" at the beginning and "*/" at the end to activate.
/*    
L.tileLayer('http://maps.georeferencer.com/georeferences/236482959682/2017-02-20T14:25:19.132722Z/map/{z}/{x}/{y}.png?key=zfSXuPw8W8w4AymmpUlZ', {
    attribution: '&copy; <a href="http://www.davidrumsey.com/luna/">David Rumsey Map Collection</a> GW Baist Map, 1921'
}).addTo(map);
*/

//Here are other tiles you can switch, make sure you change the attribution to the source.
//Stamen Toner-Lite | http://d.tile.stamen.com/toner-lite/{z}/{x}/{y}.png | <a target="_top" href="http://stamen.com">Stamen Design, under CC BY 3.0, data by OSM</a>
//Stamen Watercolor | http://d.tile.stamen.com/watercolor/{z}/{x}/{y}.png | <a href="http://stamen.com">Stamen Design under CC BY 3.0, data by OSM</a>

//This are the locations for your map to move along with your story
//This is variable created an object called an JSON, you can add and remove chapters to the story. Make sure you reflect the changes in the sections with the text of your story.    

var chapters = {
'united-states': {
    center: [35.9602229692967, -97.294921875],
    zoom: 4,
  },

  'ohio-massachusetts': {
    center: [40.58058466412764, -77.43164062500001],
    zoom: 6,
  },

  'massachusetts': {
    center: [42.134894984239224, -71.74621582031251],
    zoom: 8,
  },

  'worcester-ma': {
    center: [42.08599350447725, -71.79565429687501],
    zoom: 10,
  },

  'dudley-webster-ngrosvenordale': {
    center: [42.028639077928695, -71.89315795898439],
    zoom: 12,
  },

  'new-boston-rd': {
    center: [42.03176304109323, -71.89796447753908],
    zoom: 15,
  },

  'pierpont-rd': {
    center: [42.0793685289225, -71.91650390625001],
    zoom: 14,
  },

  'mass': {
    center: [42.309815415686664, -71.63085937500001],
    zoom: 8,
  },

  'ohio-mass': {
    center: [41.0130657870063, -77.29980468750001],
    zoom: 6,
  },

  'ohio': {
    center: [41.046216814520655, -83.07861328125001],
    zoom: 6,
  },

  'cincinatti-columbus-portsmouth-ohio': {
    center: [39.2492708462234, -83.23242187500001],
    zoom: 8,
  },

  'portsmouth-ohio': {
    center: [38.72034047123783, -83.00960540771486],
    zoom: 12,
  },

  'blue-creek-ohio
    center: [38.71371054721669, -83.10616493225099],
    zoom: 14,
  },

  'oh': {
    center: [40.08647729380884, -81.89208984375001],
    zoom: 7,
  },

  'ohio-ma': {
    center: [38.20365531807151, -84.90234375000001],
    zoom: 5,
  },

  'usa-states': {
    center: [36.8092847020594, -95.537109375],
    zoom: 4,
  }
};

//Function to run the story    
// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};

var activeChapterName = 'losangeles'; //Change this to match the first chapter of your story
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;

    map.flyTo(chapters[chapterName].center, chapters[chapterName].zoom);

    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');

    activeChapterName = chapterName;
}

function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}
//End of function to run the story    
    

//This JS Function asks Mapbox to get the bearing/center/zoom/pitch of the mouse position when clicked.
//To turn off this function, add a "/*" at the beginning of the function and a "*/" at the end. This will turn the function into a comment.
map.on('click', function () {
    // e.lngLat is the longitude, latitude geographical position of the event
    var latlng = map.getCenter();
    console.log(latlng);
    prompt("Copy to clipboard: Ctrl+C, Enter",
        "center: ["+latlng.lat+", "+latlng.lng+"],\n"+
        "zoom: "+map.getZoom()+"\n"
    );
});   

</script>

</body>
</html>
